# This file is managed by Chef. Changes will be overwritten.
# /etc/ntp.conf, configuration for ntpd; see ntp.conf(5) for help

driftfile /var/lib/ntp/ntp.drift

statistics loopstats peerstats clockstats
filegen loopstats file loopstats type day enable
filegen peerstats file peerstats type day enable
filegen clockstats file clockstats type day enable

# Specify one or more NTP servers
<% if @servers -%>
<% @servers.each do |server| -%>
server <%= server %>
<% end -%>
<% end -%>

# Use Ubuntu ntp servers as a fallback
server 0.ubuntu.pool.ntp.org
server 1.ubuntu.pool.ntp.org
server ntp.ubuntu.com

# Access control configuration
# By default, exchange time with everybody, but don't allow configuration
restrict -4 default kod notrap nomodify nopeer noquery
restrict -6 default kod notrap nomodify nopeer noquery

# Local users may interrogate the ntp server more closely
restrict 127.0.0.1
restrict ::1

# Additional options
<% if @options %>
<% @options.each do |option| %>
<%= option %>
<% end %>
<% end %>
